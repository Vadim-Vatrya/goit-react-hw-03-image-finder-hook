(this["webpackJsonpgoit-react-hw-03-image-finder-hook"]=this["webpackJsonpgoit-react-hw-03-image-finder-hook"]||[]).push([[0],{14:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__3-Pwz",ImageGalleryItemImage:"ImageGalleryItem_ImageGalleryItemImage__3Uq_S"}},16:function(e,t,a){e.exports={Overlay:"Modal_Overlay__mB1xU",Modal:"Modal_Modal__u-Ut9",modalPic:"Modal_modalPic__3DDiQ"}},25:function(e,t,a){e.exports={Button:"Button_Button__3Liz0"}},27:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__2FJpg"}},28:function(e,t,a){e.exports={loader:"Loader_loader__c1XEn"}},29:function(e,t,a){e.exports={App:"App_App__1GdUt",error:"App_error__27Hil"}},36:function(e,t,a){},6:function(e,t,a){e.exports={SearchBar:"SearchBar_SearchBar__1SY9U",SearchForm:"SearchBar_SearchForm__2Imhe",SearchFormButton:"SearchBar_SearchFormButton__2FIbZ","SearchForm-button-label":"SearchBar_SearchForm-button-label__34psw",SearchFormInput:"SearchBar_SearchFormInput__2MEc4"}},84:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),o=a(5),c=a.n(o),s=(a(36),a(8)),l=a(4),i=a(13),u=a.n(i),m=a(2),d=a.n(m);u.a.defaults.baseURL="https://pixabay.com/api";var b=function(e){var t=e.search,a=void 0===t?"":t,r=e.currentPage,n=void 0===r?1:r,o=e.perPage,c=void 0===o?12:o;return u.a.get("?q=".concat(a,"&per_page=").concat(c,"&page=").concat(n,"&image_type=photo&orientation=horizontal&key=").concat("19735813-38939a283ca61b34fac8c005d")).then((function(e){return e.data}))};b.propTypes={search:d.a.string,currentPage:d.a.number};var j=b,h=a(31),p=(a(57),a(6)),f=a.n(p),g=a(1),O=function(e){var t=e.onSubmitForm,a=Object(r.useState)(""),n=Object(l.a)(a,2),o=n[0],c=n[1];return Object(g.jsx)("header",{className:f.a.SearchBar,children:Object(g.jsxs)("form",{className:f.a.SearchForm,onSubmit:function(e){if(e.preventDefault(),""===o.trim())return h.a.error("Please enter something to start your search!");t(o),c("")},children:[Object(g.jsx)("button",{type:"submit",className:f.a.SearchFormButton,children:Object(g.jsx)("span",{className:f.a.SearchFormButtonLabel,children:"Search"})}),Object(g.jsx)("input",{className:f.a.SearchFormInput,type:"text",value:o,autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",onChange:function(e){var t=e.target;c(t.value)}})]})})},_=a(14),S=a.n(_),x=function(e){var t=e.alt,a=e.src,r=e.srcModal,n=e.onOpenModal;return Object(g.jsx)("li",{className:S.a.ImageGalleryItem,children:Object(g.jsx)("img",{src:a,alt:t,onClick:function(){n(r,t)},className:S.a.ImageGalleryItemImage})})},v=a(10),y=a.n(v),I=a(25),M=a.n(I),F=function(e){var t=e.title,a=e.type,r=e.onLoadMore,n=e.btnLoadDisabled;return Object(g.jsx)("button",{className:M.a.Button,type:a,onClick:function(){r()},disabled:n,children:t})};F.defaultProps={title:"button",type:"button",onLoadMore:function(){}};var L=F,B=a(30),w=Object(B.a)({title:{marginTop:20,fontSize:30,color:"red",textAlign:"center"}}),N=function(e){var t=e.message,a=w();return Object(g.jsx)("p",{className:a.title,children:t})};N.defaultProps={message:""};var G=N,P=a(16),k=a.n(P),E=document.querySelector("#modal-root"),U=function(e){var t=e.alt,a=e.srcModal,n=e.onCloseModal;Object(r.useEffect)((function(){return window.addEventListener("keydown",c),function(){window.removeEventListener("keydown",c)}}));var c=function(e){"Escape"===e.code&&n()};return Object(o.createPortal)(Object(g.jsx)("div",{className:k.a.Overlay,onClick:function(e){e.currentTarget===e.target&&n()},children:Object(g.jsx)("div",{className:k.a.Modal,children:Object(g.jsx)("img",{src:a,alt:t})})}),E)},C=a(27),D=a.n(C),A=function(e){var t=e.images,a=e.totalImages,n=e.onLoadMore,o=e.btnLoadDisabled,c=e.isLoading,s=Object(r.useState)(!1),i=Object(l.a)(s,2),u=i[0],m=i[1],d=Object(r.useState)(""),b=Object(l.a)(d,2),j=b[0],h=b[1],p=Object(r.useState)(""),f=Object(l.a)(p,2),O=f[0],_=f[1],S=function(e,t){m(!0),h(e),_(t)};return Object(g.jsxs)(g.Fragment,{children:[a>0?Object(g.jsxs)(g.Fragment,{children:[Object(g.jsx)("ul",{className:D.a.ImageGallery,children:t.map((function(e){var t=e.id,a=e.webformatURL,r=e.largeImageURL,n=e.tags;return Object(g.jsx)(x,{alt:n,src:a,srcModal:r,onOpenModal:S},t)}))}),Object(g.jsx)(y.a,{visible:c}),Object(g.jsx)(L,{type:"button",title:"Load more",onLoadMore:n,btnLoadMoreDisabled:o})]}):Object(g.jsx)(G,{message:"Please enter a more specific querry!"}),u&&Object(g.jsx)(U,{alt:O,srcModal:j,onCloseModal:function(){m(!1),h(""),_("")}})]})},T=(a(82),a(28)),q=a.n(T),z=function(){return Object(g.jsx)("div",{className:q.a.loader,children:Object(g.jsx)(y.a,{type:"Puff",color:"#00BFFF",height:100,width:100,timeout:2e3})})},H=a(29),J=a.n(H),R=function(){var e=Object(r.useState)(""),t=Object(l.a)(e,2),a=t[0],n=t[1],o=Object(r.useState)(1),c=Object(l.a)(o,2),i=c[0],u=c[1],m=Object(r.useState)([]),d=Object(l.a)(m,2),b=d[0],h=d[1],p=Object(r.useState)(null),f=Object(l.a)(p,2),_=f[0],S=f[1],x=Object(r.useState)(!1),v=Object(l.a)(x,2),y=v[0],I=v[1],M=Object(r.useState)(!1),F=Object(l.a)(M,2),L=F[0],B=F[1];Object(r.useEffect)((function(){a&&(I(!0),j({search:a,currentPage:i}).then((function(e){if(h((function(t){return[].concat(Object(s.a)(t),Object(s.a)(e.hits))})),S(e.totalHits),(e.hits.length<12||e.totalHits===e.hits.length*(i-1))&&B(!0),!(i<2)){var t=document.documentElement.clientHeight+document.documentElement.scrollTop-150;window.scrollTo({top:t,behavior:"smooth"})}})).catch((function(e){return console.log(e)})).finally((function(){return I(!1)})))}),[a,i]);return Object(g.jsxs)("div",{className:J.a.App,children:[Object(g.jsx)(O,{onSubmitForm:function(e){e!==a&&(n(e),h([]),u(1),S(null),B(!1))}}),!_&&Object(g.jsx)(z,{visible:y}),null!==_&&Object(g.jsx)(A,{images:b,totalImages:_,onLoadMore:function(){u((function(e){return e+1}))},btnLoadMoreDisabled:L,isLoading:y})]})};a(83);c.a.render(Object(g.jsx)(n.a.StrictMode,{children:Object(g.jsx)(R,{})}),document.getElementById("root"))}},[[84,1,2]]]);
//# sourceMappingURL=main.d7e6650f.chunk.js.map